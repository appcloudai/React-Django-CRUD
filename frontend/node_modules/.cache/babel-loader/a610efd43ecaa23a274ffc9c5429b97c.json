{"ast":null,"code":"var _jsxFileName = \"/Users/rawsht/Downloads/React-Django-To-Do-App-master/frontend/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nfunction App() {\n  const initialTask = {\n    id: null,\n    title: \"\",\n    is_done: false\n  };\n  const [tasks, setTasks] = useState([]);\n  const [task, setTask] = useState(initialTask);\n  const [updateOrCreate, setUpdateOrCreate] = useState(false);\n  const [fetch, setFetch] = useState(false);\n\n  const done = task => {\n    return task.is_done ? \"fa fa-check-circle fa-2x text-success\" : \"fa fa-check-circle fa-2x\";\n  };\n\n  useEffect(() => {\n    axios.get('http://127.0.0.1:8000/api/task-list/').then(response => {\n      setTasks(response.data);\n      console.log('fetched data ...');\n    }).catch(console.log(\"error\"));\n  }, [fetch]);\n\n  const handlechange = e => {\n    setTask({ ...task,\n      title: e.target.value\n    });\n    console.log('handle change:' + task);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post('http://127.0.0.1:8000/api/task-create/', task);\n    setTask(initialTask);\n    setFetch(!fetch);\n  };\n\n  const handleToUpdate = task => {\n    setTask(task);\n    setUpdateOrCreate(true);\n  };\n\n  const handleUpdate = e => {\n    e.preventDefault();\n    console.log(task);\n    axios.post('http://127.0.0.1:8000/api/task-update/' + task.id, {\n      title: task.title,\n      is_done: task.is_done\n    });\n    setUpdateOrCreate(false);\n    setTask(initialTask);\n    setFetch(!fetch);\n  };\n\n  const handleDelete = task => {\n    axios.delete('http://127.0.0.1:8000/api/task-delete/' + task);\n    setFetch(!fetch);\n  };\n\n  const handleComplete = task => {\n    axios.post('http://127.0.0.1:8000/api/task-update/' + task.id, {\n      title: task.title,\n      is_done: true\n    });\n    setFetch(!fetch);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-container col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-group\",\n    onSubmit: e => updateOrCreate ? handleUpdate(e) : handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mr-1\",\n    onChange: e => handlechange(e),\n    value: task.title,\n    id: \"titleInput\",\n    placeholder: \"add task...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 14\n    }\n  }, \"submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tasks-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, tasks.map((task, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"task\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, task.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    style: {\n      flex: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-default mr-1\",\n    onClick: () => handleComplete(task),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: done(task),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 95\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-default mr-1\",\n    onClick: () => handleToUpdate(task),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-edit fa-2x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 88\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-default\",\n    onClick: () => handleDelete(task.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-minus fa-2x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 92\n    }\n  })))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/rawsht/Downloads/React-Django-To-Do-App-master/frontend/src/App.js"],"names":["React","useState","useEffect","axios","App","initialTask","id","title","is_done","tasks","setTasks","task","setTask","updateOrCreate","setUpdateOrCreate","fetch","setFetch","done","get","then","response","data","console","log","catch","handlechange","e","target","value","handleSubmit","preventDefault","post","handleToUpdate","handleUpdate","handleDelete","delete","handleComplete","map","index","flex"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport './App.css';\nimport axios from 'axios' \n\n\n\nfunction App() {\n    const initialTask={\n        id:null,\n        title:\"\",\n        is_done: false\n    }\n    const [tasks,setTasks]=useState([])\n    const [task,setTask]=useState(initialTask)\n    const [updateOrCreate,setUpdateOrCreate]=useState(false)\n    const [fetch,setFetch]=useState(false)\n    const done =(task)=>{\n         return (task.is_done)?\"fa fa-check-circle fa-2x text-success\":\"fa fa-check-circle fa-2x\"\n    }\n    useEffect(() => {\n        axios.get('http://127.0.0.1:8000/api/task-list/')\n        .then(\n            response=>{\n                \n                setTasks(response.data)\n                console.log('fetched data ...')\n            }\n        )\n        .catch(\n            console.log(\"error\")\n\n        )\n\n    },[fetch])\n    \n    const handlechange=(e)=>{\n       setTask({...task,\n               title:e.target.value,\n               \n            })\n        console.log('handle change:'+ task)\n    }\n\n    const handleSubmit=(e)=>{\n     e.preventDefault()\n     axios.post('http://127.0.0.1:8000/api/task-create/',task);\n     setTask(initialTask)\n    setFetch(!fetch)\n\n    }\n     \n    const handleToUpdate=(task)=>{\n        setTask(task)\n        setUpdateOrCreate(true)\n    }\n\n    const handleUpdate=(e)=>{\n        e.preventDefault()\n         console.log(task)\n         axios.post('http://127.0.0.1:8000/api/task-update/'+task.id,\n         {\n            title:task.title,\n            is_done:task.is_done\n         });\n         setUpdateOrCreate(false)\n         setTask(initialTask)\n         setFetch(!fetch)\n\n    }\n\n    const handleDelete=(task)=>{\n        axios.delete('http://127.0.0.1:8000/api/task-delete/'+task);\n        setFetch(!fetch)\n    }\n    \n    const handleComplete=(task)=>{\n        axios.post('http://127.0.0.1:8000/api/task-update/'+task.id,\n        {\n           title:task.title,\n           is_done:true\n        });\n        setFetch(!fetch)\n    }\n\n  return (\n    \n     <div className=\"list-container col-md-6\">\n        <div className=\"form-container\">\n           <form className=\"form-group\" onSubmit={e=>(updateOrCreate)?handleUpdate(e):handleSubmit(e) }>\n             <input type=\"text\" className=\"form-control mr-1\" onChange={e=>handlechange(e)} value={task.title} id=\"titleInput\" placeholder=\"add task...\"/>\n             <button className=\"btn btn-success\">submit</button>\n          </form>\n        </div>\n       \n       \n        <div className=\"tasks-container\">\n\n            \n        {tasks.map((task,index)=>( \n            <div className=\"task\" key={index}>\n                <div style={{flex:20}}>{task.title}</div>\n           \n               <div className=\"d-flex\" style={{flex:3}}>\n                  <button className=\"btn btn-default mr-1\" onClick={()=>handleComplete(task)}><i className={done(task)}></i></button>\n        <button  className=\"btn btn-default mr-1\" onClick={()=>handleToUpdate(task)}  ><i className=\"fa fa-edit fa-2x\"></i></button>\n                   <button className=\"btn btn-default\" onClick={()=>handleDelete(task.id)}><i className=\"fa fa-minus fa-2x\"></i></button>\n              </div>\n             \n            </div>\n        ))}\n\n        </div>\n\n         \n\n\n      </div>\n       \n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}