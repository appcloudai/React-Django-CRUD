{"ast":null,"code":"import _objectSpread from\"/Users/rawsht/Desktop/react/crudApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/rawsht/Desktop/react/crudApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rawsht/Desktop/react/crudApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rawsht/Desktop/react/crudApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./main.css';import axios from'axios';import{faEdit,faTrash,faPaperPlane}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";function CRUD(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),fetch=_useState4[0],setFetch=_useState4[1];var _useState5=useState({id:null,title:\"\"}),_useState6=_slicedToArray(_useState5,2),item=_useState6[0],setItem=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),checkForUpdate=_useState8[0],setCheckForUpdate=_useState8[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('http://127.0.0.1:8000/app/crud_get_post');case 3:_yield$axios$get=_context.sent;response=_yield$axios$get.data;setData(response);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[fetch]);var handlechange=function handlechange(event){setItem(_objectSpread(_objectSpread({},item),{},{title:event.target.value}));};var handleAlert=function handleAlert(){alert(\"HeyðŸ‘‹ \\n\\n Publishing is disabled on this server! \\n ... to test this feature please download the source code and test it on a local machine. \\n\\n SourceCode:\\n www.github.com/appcloudai \\n\\n ðŸ˜ƒ If you like it please consider giving us a star on github ðŸ˜ƒ \\n Thanks\");};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post('http://127.0.0.1:8000/app/crud_get_post/',item);case 3:resp=_context2.sent;setFetch(fetch);console.log(resp.data);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(\"error\");case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();var Edit=function Edit(item){setCheckForUpdate(true);setFetch(fetch);setItem(item);};var handleEdit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var resp;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.put(\"http://127.0.0.1:8000/app/crud_update_delete/\".concat(item.id,\"/\"),{title:item.title});case 3:resp=_context3.sent;setFetch(fetch);setCheckForUpdate(false);console.log(resp.data);_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.error(\"error\");case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function handleEdit(){return _ref3.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item){var resp;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"http://127.0.0.1:8000/app/crud_update_delete/\".concat(item.id,\"/\"));case 3:resp=_context4.sent;setFetch(!fetch);console.log(resp.data);_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(\"error\");case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function handleDelete(_x){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"crud-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"crud-header\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){return checkForUpdate?handleEdit(event):handleSubmit(event);}},/*#__PURE__*/React.createElement(\"div\",{className:\"crud-wrapper\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"crud-form-input\",onChange:function onChange(event){return handlechange(event);},value:item.title,placeholder:\"add item \"}),/*#__PURE__*/React.createElement(\"button\",{className:\"submit-button\",type:\"submit\",value:\"Add\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPaperPlane}))))),data.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{key:item.id,className:\"crud-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"crud-list-item\"},item.title),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return Edit(item);},className:\"button edit-button\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEdit})),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handleDelete(item);},className:\"button delete-button\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrash})));}));}export default CRUD;","map":{"version":3,"sources":["/Users/rawsht/Desktop/react/crudApp/frontend/src/components/CRUD.js"],"names":["React","useState","useEffect","axios","faEdit","faTrash","faPaperPlane","FontAwesomeIcon","CRUD","data","setData","fetch","setFetch","id","title","item","setItem","checkForUpdate","setCheckForUpdate","fetchData","get","response","console","error","handlechange","event","target","value","handleAlert","alert","handleSubmit","post","resp","log","Edit","handleEdit","put","handleDelete","delete","map"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport './main.css';\nimport axios from 'axios'\nimport { faEdit,faTrash, faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction CRUD(){\n\n  const [data,setData]=useState([])\n  const [fetch,setFetch]=useState(false)\n  const [item,setItem]=useState({id:null,title:\"\"})\n  const [checkForUpdate,setCheckForUpdate]=useState(false)\n\n  useEffect(() => {\n    const fetchData = async () =>{\n      try {\n        const {data: response} = await axios.get('http://127.0.0.1:8000/app/crud_get_post')\n        setData(response);\n      } catch (error) {\n        console.error(\"error\");\n      }\n    }\n    fetchData();\n  }, [fetch]);\n\n\n  const handlechange=(event)=>{\n    setItem({...item, title:event.target.value, })\n    }\n\n   const handleAlert=()=>{\n        alert(\"HeyðŸ‘‹ \\n\\n Publishing is disabled on this server! \\n ... to test this feature please download the source code and test it on a local machine. \\n\\n SourceCode:\\n www.github.com/appcloudai \\n\\n ðŸ˜ƒ If you like it please consider giving us a star on github ðŸ˜ƒ \\n Thanks\")\n      }\n\n   const handleSubmit = async () => {\n        try {\n            const resp = await axios.post('http://127.0.0.1:8000/app/crud_get_post/',item)\n            setFetch(fetch)\n            console.log(resp.data)\n        } \n        catch (err) {\n            console.log(\"error\")\n        }\n    }  \n  \n    const Edit=(item)=>{\n        setCheckForUpdate(true)\n        setFetch(fetch)\n        setItem(item)   \n    }  \n    \n    const handleEdit = async () => {\n        try {\n            const resp = await axios.put(`http://127.0.0.1:8000/app/crud_update_delete/${item.id}/`,\n            {\n                title:item.title,     \n            })\n            setFetch(fetch)\n            setCheckForUpdate(false)\n            console.log(resp.data)\n        } catch (err) {\n            console.error(\"error\")\n        }\n    }\n\n    const handleDelete = async item => {\n\n        try {\n            const resp = await axios.delete(`http://127.0.0.1:8000/app/crud_update_delete/${item.id}/`)\n            setFetch(!fetch)  \n            console.log(resp.data);\n             \n        }   \n        catch (err) {\n            console.log(\"error\")\n        }\n    }\n\n    return(\n        \n        <div className=\"crud-container\">\n            <div className=\"crud-header\">\n                <form onSubmit={event=>(checkForUpdate)?handleEdit(event):handleSubmit(event) }>\n                    <div className=\"crud-wrapper\">   \n                        <input \n                            type=\"text\" \n                            className=\"crud-form-input\" \n                            onChange={event=>handlechange(event)} \n                            value={item.title} \n                            placeholder=\"add item \" \n                        />\n                        <button \n                            className=\"submit-button\" \n                            type=\"submit\" \n                            value=\"Add\">\n                            <FontAwesomeIcon icon={faPaperPlane} />\n                        </button> \n                     </div>\n                </form>   \n            </div>\n              \n            {data.map(item => ( \n                <div key={item.id} className=\"crud-list\">  \n                    <div className=\"crud-list-item\"> \n                        {item.title}\n                    </div>\n                    <button onClick={()=> Edit(item)} \n                        className=\"button edit-button\">\n                        <FontAwesomeIcon icon={faEdit} />\n                    </button>         \n                    <button onClick={()=> handleDelete(item)} \n                        className=\"button delete-button\">\n                        <FontAwesomeIcon icon={faTrash} />\n                     </button>    \n                </div>\n            ))}\n        </div>\n    )\n}\nexport default CRUD\n       \n "]},"metadata":{},"sourceType":"module"}