{"ast":null,"code":"var _jsxFileName = \"/Users/rawsht/Downloads/React-Django-To-Do-App-master/frontend/src/components/CRUD.js\";\nimport React, { useState, useEffect } from 'react';\nimport './main.css';\nimport axios from 'axios';\nimport { faEdit, faTrash, faCheck, faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction CRUD() {\n  const [Data, setData] = useState([]);\n  const [Item, setItem] = useState({\n    id: null,\n    title: \"\"\n  });\n  const [CheckForUpdate, setCheckForUpdate] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const {\n          data: response\n        } = await axios.get('http://127.0.0.1:8000/api/task-list/');\n        setData(response);\n      } catch (error) {\n        console.error(\"error\");\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handlechange = event => {\n    setItem({ ...Item,\n      title: event.target.value\n    });\n  };\n\n  const handleSubmit = async () => {\n    try {\n      const resp = await axios.post('http://127.0.0.1:8000/api/task-create/', Item);\n      console.log(resp.data);\n    } catch (err) {\n      console.log(\"error\");\n    }\n  };\n\n  const Edit = Item => {\n    setCheckForUpdate(true);\n    setItem(Item);\n  };\n\n  const handleEdit = async () => {\n    try {\n      const resp = await axios.post(`http://127.0.0.1:8000/api/task-update/${Item.id}/`, {\n        title: Item.title\n      });\n      setCheckForUpdate(false);\n      console.log(resp.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleDelete = async Item => {\n    try {\n      const resp = await axios.delete(`http://127.0.0.1:8000/api/task-delete/${Item.id}/`);\n      console.log(resp.data);\n    } catch (err) {\n      console.log(\"error\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"containerx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"task-containerx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"form-wrapperx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: event => CheckForUpdate ? handleEdit(event) : handleSubmit(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-wrapperx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 6\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mr-1\",\n    onChange: event => handlechange(event),\n    value: Item.title,\n    id: \"titleInput\",\n    placeholder: \"add item \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"submit\",\n    className: \"button\",\n    type: \"submit\",\n    value: \"Add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faPaperPlane,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 16\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"list-wrapperx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, Data.map((Item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"task-wrapperx flex-wrapperx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, Item.title), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => Edit(Item),\n    className: \"button buttonex buttone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 103\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDelete(Item),\n    className: \"button buttonex buttonr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTrash,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 110\n    }\n  }))))))));\n}\n\nexport default CRUD;","map":{"version":3,"sources":["/Users/rawsht/Downloads/React-Django-To-Do-App-master/frontend/src/components/CRUD.js"],"names":["React","useState","useEffect","axios","faEdit","faTrash","faCheck","faPaperPlane","FontAwesomeIcon","CRUD","Data","setData","Item","setItem","id","title","CheckForUpdate","setCheckForUpdate","fetchData","data","response","get","error","console","handlechange","event","target","value","handleSubmit","resp","post","log","err","Edit","handleEdit","handleDelete","delete","flex","map","index"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport './main.css';\nimport axios from 'axios'\nimport { faEdit,faTrash,faCheck, faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction CRUD(){\n\n  const [Data,setData]=useState([])\n  const [Item,setItem]=useState({id:null,title:\"\"})\n  const [CheckForUpdate,setCheckForUpdate]=useState(false)\n\n  useEffect(() => {\n    const fetchData = async () =>{\n      try {\n        const {data: response} = await axios.get('http://127.0.0.1:8000/api/task-list/')\n        setData(response);\n      } catch (error) {\n        console.error(\"error\");\n      }\n    }\n    fetchData();\n  }, []);\n\n\n  const handlechange=(event)=>{\n    setItem({...Item, title:event.target.value, })\n    }\n\n   const handleSubmit = async () => {\n        try {\n            const resp = await axios.post('http://127.0.0.1:8000/api/task-create/',Item)\n            console.log(resp.data)\n        } \n        catch (err) {\n            console.log(\"error\")\n        }\n    }  \n  \n    const Edit=(Item)=>{\n        setCheckForUpdate(true)\n        setItem(Item)   \n    }  \n    \n    const handleEdit = async () => {\n        try {\n            const resp = await axios.post(`http://127.0.0.1:8000/api/task-update/${Item.id}/`,\n            {\n                title:Item.title,     \n            })\n            setCheckForUpdate(false)\n            console.log(resp.data)\n        } catch (err) {\n            console.error(err)\n        }\n    }\n\n    const handleDelete = async Item => {\n\n        try {\n            const resp = await axios.delete(`http://127.0.0.1:8000/api/task-delete/${Item.id}/`)\n            console.log(resp.data);\n             \n        }   \n        catch (err) {\n            console.log(\"error\")\n        }\n    }\n\n\nreturn(\n    \n    <div className=\"containerx\">\n    <div id=\"task-containerx\">\n    <div  id=\"form-wrapperx\">\n    <form className=\"form\" onSubmit={event=>(CheckForUpdate)?handleEdit(event):handleSubmit(event) }>\n                  <div className=\"flex-wrapperx\">\n                      <div style={{flex: 6}}>\n                      <input type=\"text\" className=\"form-control mr-1\" onChange={event=>handlechange(event)} value={Item.title} id=\"titleInput\" placeholder=\"add item \"/>\n                     </div>\n                      <div style={{flex: 1}}>          \n               <button id=\"submit\" className=\"button\" type=\"submit\" value=\"Add\">\n               <FontAwesomeIcon icon={faPaperPlane} /></button>\n            \n              </div>                \n                  </div>\n                  </form>    \n              </div>\n\n              <div  id=\"list-wrapperx\"> \n              {Data.map((Item,index)=>( \n                  <div key={index} className=\"task-wrapperx flex-wrapperx\">\n                          \n                  <div style={{flex:7}}>\n                  {Item.title}\n                          </div>\n\n                          <div style={{flex:1}}>\n                              <button onClick={() => Edit(Item)}  className=\"button buttonex buttone\"><FontAwesomeIcon icon={faEdit} /></button>\n                          </div>\n\n                          <div style={{flex:1}}>\n                              <button onClick={() => handleDelete(Item)} className=\"button buttonex buttonr\"><FontAwesomeIcon icon={faTrash} /></button>\n                          </div>\n                        \n                          </div>\n                      ))}\n        </div>\n        </div>\n      </div>\n\n)\n}\nexport default CRUD\n       \n "]},"metadata":{},"sourceType":"module"}